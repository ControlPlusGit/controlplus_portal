<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>as3993 Firmware: weak_stream_functions.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">as3993 Firmware
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bdd9a5d540de89e9fe90efdfc6973a4f.html">common</a></li><li class="navelem"><a class="el" href="dir_d3e01d84417a30ad319070c1f4e344b7.html">firmware</a></li><li class="navelem"><a class="el" href="dir_f2eb04dc0cf048ef1052bb62b9646e92.html">microchip</a></li><li class="navelem"><a class="el" href="dir_5a76aee4bd82329bd4bd60430712f9aa.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">weak_stream_functions.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;ams_types.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="ams__stream_8h_source.html">ams_stream.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="logger_8h_source.html">logger.h</a>&quot;</code><br/>
<code>#include &quot;i2c_driver.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="spi__driver_8h_source.html">spi_driver.h</a>&quot;</code><br/>
<code>#include &quot;stream_driver.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="stream__dispatcher_8h_source.html">stream_dispatcher.h</a>&quot;</code><br/>
</div>
<p><a href="weak__stream__functions_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3e360916959b8c85e4b230a3beb6186a"><td class="memItemLeft" align="right" valign="top">void WEAK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="weak__stream__functions_8c.html#a3e360916959b8c85e4b230a3beb6186a">spiDeserialiseConfig</a> (<a class="el" href="structspi_config__t.html">spiConfig_t</a> *config, const u8 *data)</td></tr>
<tr class="separator:a3e360916959b8c85e4b230a3beb6186a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecb815f98f9c257c8712397fa43c327c"><td class="memItemLeft" align="right" valign="top">s8 WEAK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="weak__stream__functions_8c.html#aecb815f98f9c257c8712397fa43c327c">spiInitialize</a> (u32 sysClk, const <a class="el" href="structspi_config__t.html">spiConfig_t</a> *spiConfigIn, <a class="el" href="structspi_config__t.html">spiConfig_t</a> *spiConfigOut)</td></tr>
<tr class="separator:aecb815f98f9c257c8712397fa43c327c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad72cb833a16c095041b66cacce95cbf7"><td class="memItemLeft" align="right" valign="top">s8 WEAK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="weak__stream__functions_8c.html#ad72cb833a16c095041b66cacce95cbf7">spiTxRx</a> (const u8 *txData, u8 *rxData, u16 numberOfBytes)</td></tr>
<tr class="separator:ad72cb833a16c095041b66cacce95cbf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed82652c68e32d42398da16605fe9b89"><td class="memItemLeft" align="right" valign="top">u8 WEAK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="weak__stream__functions_8c.html#aed82652c68e32d42398da16605fe9b89">applPeripheralReset</a> ()</td></tr>
<tr class="separator:aed82652c68e32d42398da16605fe9b89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43281be121b54dc51c0d15e7e4aecd66"><td class="memItemLeft" align="right" valign="top">const char *WEAK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="weak__stream__functions_8c.html#a43281be121b54dc51c0d15e7e4aecd66">applFirmwareInformation</a> ()</td></tr>
<tr class="separator:a43281be121b54dc51c0d15e7e4aecd66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46c9e09eded7d863a0738f34d56797c9"><td class="memItemLeft" align="right" valign="top">u8 WEAK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="weak__stream__functions_8c.html#a46c9e09eded7d863a0738f34d56797c9">applProcessCmd</a> (u8 protocol, u16 rxSize, const u8 *rxData, u16 *txSize, u8 *txData)</td></tr>
<tr class="separator:a46c9e09eded7d863a0738f34d56797c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e10356fa401e1c4121636711dd388c6"><td class="memItemLeft" align="right" valign="top">u8 WEAK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="weak__stream__functions_8c.html#a5e10356fa401e1c4121636711dd388c6">applProcessCyclic</a> (u8 *protocol, u16 *txSize, u8 *txData, u16 remainingSize)</td></tr>
<tr class="separator:a5e10356fa401e1c4121636711dd388c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a2edec43b0fc3e349bfe58528993250"><td class="memItemLeft" align="right" valign="top">u8 WEAK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="weak__stream__functions_8c.html#a9a2edec43b0fc3e349bfe58528993250">applReadReg</a> (u16 rxSize, const u8 *rxData, u16 *txSize, u8 *txData)</td></tr>
<tr class="separator:a9a2edec43b0fc3e349bfe58528993250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8535b63eead5dda9a377c703b81c8382"><td class="memItemLeft" align="right" valign="top">u8 WEAK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="weak__stream__functions_8c.html#a8535b63eead5dda9a377c703b81c8382">applWriteReg</a> (u16 rxSize, const u8 *rxData, u16 *txSize, u8 *txData)</td></tr>
<tr class="separator:a8535b63eead5dda9a377c703b81c8382"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a200a827cd84daf6c87b222ef5948b52d"><td class="memItemLeft" align="right" valign="top">void WEAK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="weak__stream__functions_8c.html#a200a827cd84daf6c87b222ef5948b52d">applSpiActivateSEN</a> (u8 spiDeviceId)</td></tr>
<tr class="separator:a200a827cd84daf6c87b222ef5948b52d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c28e93f3ae8274fc099b3d6aa402f2f"><td class="memItemLeft" align="right" valign="top">void WEAK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="weak__stream__functions_8c.html#a4c28e93f3ae8274fc099b3d6aa402f2f">applSpiDeactivateSEN</a> (u8 spiDeviceId)</td></tr>
<tr class="separator:a4c28e93f3ae8274fc099b3d6aa402f2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A dummy implementation of the WEAK functions needed by the <a class="el" href="stream__dispatcher_8c.html" title="main dispatcher for streaming protocol uses a stream_driver for the io.">stream_dispatcher.c</a>. </p>
<dl class="section author"><dt>Author</dt><dd>M. Arpa</dd></dl>
<p>to override any of the functions implemented here, just implement your own version without the attribute WEAK. </p>

<p>Definition in file <a class="el" href="weak__stream__functions_8c_source.html">weak_stream_functions.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a43281be121b54dc51c0d15e7e4aecd66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* WEAK applFirmwareInformation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get firmware information (zero-terminated) string </p>
<p>function which can be implemented by the application to return the firmware inforamtion string (zero-terminated). E.g. information about the chip and board. </p>
<dl class="section return"><dt>Returns</dt><dd>the a pointer to the firmware information </dd></dl>

<p>Definition at line <a class="el" href="weak__stream__functions_8c_source.html#l00095">95</a> of file <a class="el" href="weak__stream__functions_8c_source.html">weak_stream_functions.c</a>.</p>

</div>
</div>
<a class="anchor" id="aed82652c68e32d42398da16605fe9b89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 WEAK applPeripheralReset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>reset peripherals of board </p>
<p>function which can be implemented by the application to reset the board peripherals. </p>
<dl class="section return"><dt>Returns</dt><dd>AMS_STREAM_UNHANDLED_PROTOCOL if function was not overloaded by application </dd></dl>

<p>Definition at line <a class="el" href="weak__stream__functions_8c_source.html#l00089">89</a> of file <a class="el" href="weak__stream__functions_8c_source.html">weak_stream_functions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a46c9e09eded7d863a0738f34d56797c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 WEAK applProcessCmd </td>
          <td>(</td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>protocol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>rxSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const u8 *&#160;</td>
          <td class="paramname"><em>rxData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16 *&#160;</td>
          <td class="paramname"><em>txSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>txData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Command dispatcher for application-specific commands. </p>
<p>function which can be implemented by the application process application- specific commands for I/O. If data should be returned, the txData buffer can be filled with data which should be sent to the PC. In argument txSize, the size is returned. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">protocol</td><td>: the protocol byte which needs to be processed </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rxData</td><td>: pointer to payload for appl commands (in stream protocol buffer). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rxSize</td><td>: size of rxData </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">txData</td><td>: pointer to buffer to store returned data (payload only) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">txSize</td><td>: size of returned data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the status byte to be interpreted by the stream layer on the host </dd></dl>

<p>Definition at line <a class="el" href="weak__stream__functions_8c_source.html#l00101">101</a> of file <a class="el" href="weak__stream__functions_8c_source.html">weak_stream_functions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5e10356fa401e1c4121636711dd388c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 WEAK applProcessCyclic </td>
          <td>(</td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>protocol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16 *&#160;</td>
          <td class="paramname"><em>txSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>txData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>remainingSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called cyclic (even when no full usb packet was received). Use this is you need to send several packets (time delayed) in response to one usb request. </p>
<p>function which can be implemented by the application process If data should be returned, the txData buffer must be filled with the data to be sent to the PC. In argument txSize, the size is returned. The function also must fill in the protocol byte (this is the protocol value that is filled in in the protocol header. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">protocol</td><td>: protocol byte to be used for the packet header </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">txData</td><td>: pointer to buffer to store returned data (payload only) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">txSize</td><td>: size of returned data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">remainingSize</td><td>: how many bytes are free in the buffer txData </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the status byte to be interpreted by the stream layer on the host </dd></dl>

<p>Definition at line <a class="el" href="weak__stream__functions_8c_source.html#l00107">107</a> of file <a class="el" href="weak__stream__functions_8c_source.html">weak_stream_functions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9a2edec43b0fc3e349bfe58528993250"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 WEAK applReadReg </td>
          <td>(</td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>rxSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const u8 *&#160;</td>
          <td class="paramname"><em>rxData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16 *&#160;</td>
          <td class="paramname"><em>txSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>txData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generic function to read one or more registers. </p>
<p>Function which can be implemented by the application to read registers. If data should be returned, the txData buffer must be filled with the data to be sent to the PC. In argument txSize, the size is returned. The function also must fill in the protocol byte (this is the protocol value that is filled in in the protocol header. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rxData</td><td>: pointer to payload for appl commands (in stream protocol buffer). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rxSize</td><td>: size of rxData </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">txData</td><td>: pointer to buffer to store returned data (payload only) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">txSize</td><td>: size of returned data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the status byte to be interpreted by the stream layer on the host </dd></dl>

<p>Definition at line <a class="el" href="weak__stream__functions_8c_source.html#l00119">119</a> of file <a class="el" href="weak__stream__functions_8c_source.html">weak_stream_functions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a200a827cd84daf6c87b222ef5948b52d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WEAK applSpiActivateSEN </td>
          <td>(</td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>spiDeviceId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>activate SEN for desired SPI device </p>
<p>Function which has to be implemented by the application to activate the SEN for the desired SPI device when used by stream_disptcher.h.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spiDeviceId,:</td><td>SPI device ID (given by USB application) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="weak__stream__functions_8c_source.html#l00131">131</a> of file <a class="el" href="weak__stream__functions_8c_source.html">weak_stream_functions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4c28e93f3ae8274fc099b3d6aa402f2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WEAK applSpiDeactivateSEN </td>
          <td>(</td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>spiDeviceId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>deactivate SEN for desired SPI device </p>
<p>Function which has to be implemented by the application to deactivate the SEN for the desired SPI device when used by stream_disptcher.h.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spiDeviceId,:</td><td>SPI device ID (given by USB application) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="weak__stream__functions_8c_source.html#l00136">136</a> of file <a class="el" href="weak__stream__functions_8c_source.html">weak_stream_functions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8535b63eead5dda9a377c703b81c8382"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 WEAK applWriteReg </td>
          <td>(</td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>rxSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const u8 *&#160;</td>
          <td class="paramname"><em>rxData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16 *&#160;</td>
          <td class="paramname"><em>txSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>txData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generic function to write one or more registers. </p>
<p>Function which can be implemented by the application to write registers. If data should be returned, the txData buffer must be filled with the data to be sent to the PC. In argument txSize, the size is returned. The function also must fill in the protocol byte (this is the protocol value that is filled in in the protocol header. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rxData</td><td>: pointer to payload for appl commands (in stream protocol buffer). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rxSize</td><td>: size of rxData </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">txData</td><td>: pointer to buffer to store returned data (payload only) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">txSize</td><td>: size of returned data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the status byte to be interpreted by the stream layer on the host </dd></dl>

<p>Definition at line <a class="el" href="weak__stream__functions_8c_source.html#l00125">125</a> of file <a class="el" href="weak__stream__functions_8c_source.html">weak_stream_functions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3e360916959b8c85e4b230a3beb6186a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WEAK spiDeserialiseConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structspi_config__t.html">spiConfig_t</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const u8 *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read configuration in from a byte-stream (the byte stream must have been written with spiSerialiseConfig. Used by stream_disptcher.h. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">config</td><td>: structure to be filled with the data read in </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>: byte stream containing the data to be converted to the config struct </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="weak__stream__functions_8c_source.html#l00072">72</a> of file <a class="el" href="weak__stream__functions_8c_source.html">weak_stream_functions.c</a>.</p>

</div>
</div>
<a class="anchor" id="aecb815f98f9c257c8712397fa43c327c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s8 WEAK spiInitialize </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>sysClk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structspi_config__t.html">spiConfig_t</a> *&#160;</td>
          <td class="paramname"><em>spiConfigIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structspi_config__t.html">spiConfig_t</a> *&#160;</td>
          <td class="paramname"><em>spiConfigOut</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize SPI interface. </p>
<p>This function initializes the SPI interface, i.e. sets the requested frequency and SPI mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sysClk</td><td>: The system clock currently in use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">spiConfigIn</td><td>: structure holding configuration parameter (see <a class="el" href="structspi_config__t.html">spiConfig_t</a>) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">spiConfigOut</td><td>: structure returning previous configuration parameter</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ERR_NONE : No error, SPI initialized. </dd></dl>

<p>Definition at line <a class="el" href="weak__stream__functions_8c_source.html#l00077">77</a> of file <a class="el" href="weak__stream__functions_8c_source.html">weak_stream_functions.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad72cb833a16c095041b66cacce95cbf7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s8 WEAK spiTxRx </td>
          <td>(</td>
          <td class="paramtype">const u8 *&#160;</td>
          <td class="paramname"><em>txData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>rxData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transfer a buffer of given length. </p>
<p>This function is used to shift out <em>length</em> bytes of <em>outbuf</em> and write latched in data to <em>inbuf</em>. </p>
<dl class="section note"><dt>Note</dt><dd>Due to the nature of SPI <em>inbuf</em> has to have the same size as <em>outbuf</em>, i.e. the number of bytes shifted out equals the number of bytes latched in again.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">txData,:</td><td>Buffer of size <em>length</em> to be transmitted. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rxData,:</td><td>Buffer of size <em>length</em> where received data is written to OR NULL in order to perform a write-only operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length,:</td><td>Number of bytes to be transfered.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ERR_IO : Error during SPI communication, returned data may be invalid. </dd>
<dd>
ERR_NONE : No error, all <em>length</em> bytes transmitted/received. </dd></dl>

<p>Definition at line <a class="el" href="weak__stream__functions_8c_source.html#l00083">83</a> of file <a class="el" href="weak__stream__functions_8c_source.html">weak_stream_functions.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Dec 19 2013 15:32:55 for as3993 Firmware by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
