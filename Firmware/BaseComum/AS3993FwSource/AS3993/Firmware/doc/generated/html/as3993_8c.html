<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>as3993 Firmware: as3993.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">as3993 Firmware
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_3b1dcce1203a4246271d0209b54aa6ca.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">as3993.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="as3993__config_8h_source.html">as3993_config.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="platform_8h_source.html">platform.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="as3993_8h_source.html">as3993.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="as3993__public_8h_source.html">as3993_public.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="global_8h_source.html">global.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="logger_8h_source.html">logger.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="timer_8h_source.html">timer.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="gen2_8h_source.html">gen2.h</a>&quot;</code><br/>
<code>#include &quot;stdlib.h&quot;</code><br/>
<code>#include &quot;string.h&quot;</code><br/>
<code>#include &quot;Compiler.h&quot;</code><br/>
</div>
<p><a href="as3993_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ada74e7db007a68e763f20c17f2985356"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#ada74e7db007a68e763f20c17f2985356">READ</a>&#160;&#160;&#160;0x40</td></tr>
<tr class="separator:ada74e7db007a68e763f20c17f2985356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93327c4cd71034369610cfcf82787984"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a93327c4cd71034369610cfcf82787984">AS3980WAITTIME</a>&#160;&#160;&#160;510</td></tr>
<tr class="separator:a93327c4cd71034369610cfcf82787984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d5de7885c7c874fe6a106f4b085e948"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a7d5de7885c7c874fe6a106f4b085e948">WaitForAS3980</a>()&#160;&#160;&#160;{}</td></tr>
<tr class="separator:a7d5de7885c7c874fe6a106f4b085e948"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aac2da701b417c8883b22fe3b6c907ea3"><td class="memItemLeft" align="right" valign="top">u16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#aac2da701b417c8883b22fe3b6c907ea3">as3993Initialize</a> (u32 baseFreq)</td></tr>
<tr class="separator:aac2da701b417c8883b22fe3b6c907ea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79fc2cc62c49489d62ecdad07ba2abce"><td class="memItemLeft" align="right" valign="top">void INTERRUPT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a79fc2cc62c49489d62ecdad07ba2abce">as3993Isr</a> (void)</td></tr>
<tr class="separator:a79fc2cc62c49489d62ecdad07ba2abce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b007e3bcab995d9917ec706882e26fb"><td class="memItemLeft" align="right" valign="top">u8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a4b007e3bcab995d9917ec706882e26fb">as3993ReadChipVersion</a> (void)</td></tr>
<tr class="separator:a4b007e3bcab995d9917ec706882e26fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef3ce8f582b6e0b7d91f5fff6b2efce9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#aef3ce8f582b6e0b7d91f5fff6b2efce9">as3993SingleCommand</a> (u8 command)</td></tr>
<tr class="separator:aef3ce8f582b6e0b7d91f5fff6b2efce9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bf10ffc5dad4f8149678cb4091d9cf5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a8bf10ffc5dad4f8149678cb4091d9cf5">as3993ContinuousRead</a> (u8 address, s8 len, u8 *readbuf)</td></tr>
<tr class="separator:a8bf10ffc5dad4f8149678cb4091d9cf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ee70ba282934d5fed0faef60f6232b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a3ee70ba282934d5fed0faef60f6232b1">as3993FifoRead</a> (s8 len, u8 *readbuf)</td></tr>
<tr class="separator:a3ee70ba282934d5fed0faef60f6232b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a3cab2d97285d01aa1cbb337e58ad19"><td class="memItemLeft" align="right" valign="top">u8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a3a3cab2d97285d01aa1cbb337e58ad19">as3993SingleRead</a> (u8 address)</td></tr>
<tr class="separator:a3a3cab2d97285d01aa1cbb337e58ad19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41f06fe277d19a13e502aaf45d53d596"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a41f06fe277d19a13e502aaf45d53d596">as3993ContinuousWrite</a> (u8 address, u8 *buf, s8 len)</td></tr>
<tr class="separator:a41f06fe277d19a13e502aaf45d53d596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae58028d67ab422750b86104565aa6993"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#ae58028d67ab422750b86104565aa6993">as3993SingleWrite</a> (u8 address, u8 value)</td></tr>
<tr class="separator:ae58028d67ab422750b86104565aa6993"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cdd4d7d450ad34bdb88e15fad7b81d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a0cdd4d7d450ad34bdb88e15fad7b81d3">as3993CommandContinuousAddress</a> (u8 *command, u8 com_len, u8 address, u8 *buf, u8 buf_len)</td></tr>
<tr class="separator:a0cdd4d7d450ad34bdb88e15fad7b81d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6105628dd119bf28802a82b8e4608d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#ad6105628dd119bf28802a82b8e4608d3">as3993WaitForResponseTimed</a> (u16 waitMask, u16 counter)</td></tr>
<tr class="separator:ad6105628dd119bf28802a82b8e4608d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aa54181c416be12e5ea48c2488dc23e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a6aa54181c416be12e5ea48c2488dc23e">as3993WaitForResponse</a> (u16 waitMask)</td></tr>
<tr class="separator:a6aa54181c416be12e5ea48c2488dc23e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a226f1f06151c71e2fe88240ffe6d33ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a226f1f06151c71e2fe88240ffe6d33ba">as3993SetBaseFrequency</a> (u8 regs, u32 frequency)</td></tr>
<tr class="separator:a226f1f06151c71e2fe88240ffe6d33ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ffc08c291180cb7a1f4b03c43c7cbb0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2ffc08c291180cb7a1f4b03c43c7cbb0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a2ffc08c291180cb7a1f4b03c43c7cbb0">as3993EnterPowerDownMode</a> ()</td></tr>
<tr class="separator:a2ffc08c291180cb7a1f4b03c43c7cbb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9da0f12d6ca4967e8b0295f219485e71"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9da0f12d6ca4967e8b0295f219485e71"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a9da0f12d6ca4967e8b0295f219485e71">as3993ExitPowerDownMode</a> ()</td></tr>
<tr class="separator:a9da0f12d6ca4967e8b0295f219485e71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade4d2a68828824ce84d1f457179b58a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#ade4d2a68828824ce84d1f457179b58a9">as3993Reset</a> (void)</td></tr>
<tr class="separator:ade4d2a68828824ce84d1f457179b58a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbe6cfece7e903323170f7ac097ea4fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#adbe6cfece7e903323170f7ac097ea4fa">as3993ResetDoNotPreserveRegisters</a> (void)</td></tr>
<tr class="separator:adbe6cfece7e903323170f7ac097ea4fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb22cac32a91f8adba024096f05bdf5d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adb22cac32a91f8adba024096f05bdf5d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#adb22cac32a91f8adba024096f05bdf5d">as3993EnterPowerNormalMode</a> ()</td></tr>
<tr class="separator:adb22cac32a91f8adba024096f05bdf5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8acaa396720b807edee0ac63a38758b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac8acaa396720b807edee0ac63a38758b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#ac8acaa396720b807edee0ac63a38758b">as3993ExitPowerNormalMode</a> ()</td></tr>
<tr class="separator:ac8acaa396720b807edee0ac63a38758b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa43cc32af6f80b4e2c9c28e7e49ec10a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa43cc32af6f80b4e2c9c28e7e49ec10a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#aa43cc32af6f80b4e2c9c28e7e49ec10a">as3993EnterPowerNormalRfMode</a> ()</td></tr>
<tr class="separator:aa43cc32af6f80b4e2c9c28e7e49ec10a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94df9b3d41cb770284831b9c7430df76"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a94df9b3d41cb770284831b9c7430df76"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a94df9b3d41cb770284831b9c7430df76">as3993ExitPowerNormalRfMode</a> ()</td></tr>
<tr class="separator:a94df9b3d41cb770284831b9c7430df76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af69dcaaf1d971a1407702207489ca1cf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af69dcaaf1d971a1407702207489ca1cf"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#af69dcaaf1d971a1407702207489ca1cf">as3993EnterPowerStandbyMode</a> ()</td></tr>
<tr class="separator:af69dcaaf1d971a1407702207489ca1cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a118a198c7f55ff081f4fdc12189ccad0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a118a198c7f55ff081f4fdc12189ccad0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a118a198c7f55ff081f4fdc12189ccad0">as3993ExitPowerStandbyMode</a> ()</td></tr>
<tr class="separator:a118a198c7f55ff081f4fdc12189ccad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad84f4812257453b576597ad23e06ad0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aad84f4812257453b576597ad23e06ad0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#aad84f4812257453b576597ad23e06ad0">as3993WaitForStartup</a> (void)</td></tr>
<tr class="separator:aad84f4812257453b576597ad23e06ad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43c5d2a68a4c3ddc654ef3eec569dbc1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a43c5d2a68a4c3ddc654ef3eec569dbc1">as3993AntennaPower</a> (u8 on)</td></tr>
<tr class="separator:a43c5d2a68a4c3ddc654ef3eec569dbc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f39cc67020ca38e30dabfdcbd910f8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a7f39cc67020ca38e30dabfdcbd910f8f">as3993SaveSensitivity</a> ()</td></tr>
<tr class="separator:a7f39cc67020ca38e30dabfdcbd910f8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87abb86567a73e8714fb73c36ccf2887"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a87abb86567a73e8714fb73c36ccf2887">as3993RestoreSensitivity</a> ()</td></tr>
<tr class="separator:a87abb86567a73e8714fb73c36ccf2887"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac46d9a3d4c488b4253f4bf0f6c5500b7"><td class="memItemLeft" align="right" valign="top">s8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#ac46d9a3d4c488b4253f4bf0f6c5500b7">as3993GetSensitivity</a> ()</td></tr>
<tr class="separator:ac46d9a3d4c488b4253f4bf0f6c5500b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07a889d9ce2aff229e7fecbf4666fb59"><td class="memItemLeft" align="right" valign="top">s8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a07a889d9ce2aff229e7fecbf4666fb59">as3993SetSensitivity</a> (s8 minimumSignal)</td></tr>
<tr class="separator:a07a889d9ce2aff229e7fecbf4666fb59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3d7d8b890567b8a2e742e4f36b7d7c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#ac3d7d8b890567b8a2e742e4f36b7d7c3">as3993GetRSSI</a> (u16 num_of_ms_to_scan, u8 *rawIQ, s8 *dBm)</td></tr>
<tr class="separator:ac3d7d8b890567b8a2e742e4f36b7d7c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dffce8736280c83c026207c9ac36fb1"><td class="memItemLeft" align="right" valign="top">s8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a5dffce8736280c83c026207c9ac36fb1">as3993GetADC</a> (void)</td></tr>
<tr class="separator:a5dffce8736280c83c026207c9ac36fb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a473d9c2f0ca8e267a4101c3310b1bd71"><td class="memItemLeft" align="right" valign="top">u16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a473d9c2f0ca8e267a4101c3310b1bd71">as3993GetReflectedPower</a> (void)</td></tr>
<tr class="separator:a473d9c2f0ca8e267a4101c3310b1bd71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa074fdbf977867b8773f94eb603c5a8"><td class="memItemLeft" align="right" valign="top">u16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#aaa074fdbf977867b8773f94eb603c5a8">as3993GetReflectedPowerNoiseLevel</a> (void)</td></tr>
<tr class="separator:aaa074fdbf977867b8773f94eb603c5a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a004aeaef17a71f351c37874ead54b521"><td class="memItemLeft" align="right" valign="top">s8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a004aeaef17a71f351c37874ead54b521">as3993TxRxGen2Bytes</a> (u8 cmd, u8 *txbuf, u16 txbits, u8 *rxbuf, u16 *rxbits, u8 norestime, u8 followCmd, u8 waitTxIrq)</td></tr>
<tr class="separator:a004aeaef17a71f351c37874ead54b521"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5d285bad3c50875f28492ab0dc0f2186"><td class="memItemLeft" align="right" valign="top">volatile u16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a5d285bad3c50875f28492ab0dc0f2186">as3993Response</a> = 0</td></tr>
<tr class="separator:a5d285bad3c50875f28492ab0dc0f2186"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a336b58b6a387526c2cc1054a8b459a36"><td class="memItemLeft" align="right" valign="top">static u8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a336b58b6a387526c2cc1054a8b459a36">as3993SavedSensRegs</a> [1]</td></tr>
<tr class="separator:a336b58b6a387526c2cc1054a8b459a36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94703499ce24d312d63d06adae88ba62"><td class="memItemLeft" align="right" valign="top">static u8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#a94703499ce24d312d63d06adae88ba62">as3993PowerDownRegs</a> [AS3993_REG_ICD+6]</td></tr>
<tr class="separator:a94703499ce24d312d63d06adae88ba62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9e67a5a35050c0fecdb33a36f0bc724"><td class="memItemLeft" align="right" valign="top">static u8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as3993_8c.html#ab9e67a5a35050c0fecdb33a36f0bc724">gChipRevisionZero</a> = 1</td></tr>
<tr class="separator:ab9e67a5a35050c0fecdb33a36f0bc724"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions provided by the as3993 series chips. </p>
<dl class="section author"><dt>Author</dt><dd>U.Herrmann (based on work by E.Grubmueller) </dd>
<dd>
T. Luecker (Substitute) </dd>
<dd>
Bernhard Breinbauer <pre class="fragment">Functions provided by the as3993 series chips. All higher level
and protocol work is contained in gen2.c and iso6b.c</pre></dd></dl>

<p>Definition in file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a93327c4cd71034369610cfcf82787984"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AS3980WAITTIME&#160;&#160;&#160;510</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>time in ms to wait for AS3980 to be ready </p>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00052">52</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="ada74e7db007a68e763f20c17f2985356"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ&#160;&#160;&#160;0x40</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Definition protocol read bit </p>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00049">49</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7d5de7885c7c874fe6a106f4b085e948"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WaitForAS3980</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;{}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait for AS3980/81 to be ready. </p>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00060">60</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a43c5d2a68a4c3ddc654ef3eec569dbc1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as3993AntennaPower </td>
          <td>(</td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>on</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function turns the antenna power on or off. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">on</td><td>boolean to value to turn it on (1) or off (0). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00880">880</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0cdd4d7d450ad34bdb88e15fad7b81d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as3993CommandContinuousAddress </td>
          <td>(</td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>com_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>buf_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends first some commands to the AS3993. The number of commands is specified with the parameter com_len. Then it sets the address where the first byte has to be written and after that every byte from the buffer is written to the AS3993. <br/>
 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*command</td><td>Pointer to the first byte of the command buffer </td></tr>
    <tr><td class="paramname">com_len</td><td>Length of the command buffer. </td></tr>
    <tr><td class="paramname">address</td><td>addressbyte </td></tr>
    <tr><td class="paramname">*buf</td><td>Pointer to the first byte of the data array. </td></tr>
    <tr><td class="paramname">buf_len</td><td>Length of the buffer. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00510">510</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8bf10ffc5dad4f8149678cb4091d9cf5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as3993ContinuousRead </td>
          <td>(</td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">s8&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>readbuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads data from a address and some following addresses from the AS3993. The len parameter defines the number of address read. <br/>
 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>addressbyte </td></tr>
    <tr><td class="paramname">len</td><td>Length of the buffer. </td></tr>
    <tr><td class="paramname">*readbuf</td><td>Pointer to the first byte of the array where the data has to be stored in. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00460">460</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="a41f06fe277d19a13e502aaf45d53d596"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as3993ContinuousWrite </td>
          <td>(</td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">s8&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Continuous Write -&gt; writes several bytes to subsequent addresses of the AS3993. <br/>
 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>addressbyte </td></tr>
    <tr><td class="paramname">*buf</td><td>Pointer to the first byte of the array. </td></tr>
    <tr><td class="paramname">len</td><td>Length of the buffer. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00491">491</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3ee70ba282934d5fed0faef60f6232b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as3993FifoRead </td>
          <td>(</td>
          <td class="paramtype">s8&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>readbuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads data from the fifo and some following addresses from the AS3993. The len parameter defines the number of address read. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">len</td><td>Length of the buffer. </td></tr>
    <tr><td class="paramname">*readbuf</td><td>Pointer to the first byte of the array where the data has to be stored in. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00469">469</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5dffce8736280c83c026207c9ac36fb1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s8 as3993GetADC </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This functions performs an ADC conversion and returns the signed result in machine coding </p>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l01122">1122</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="a473d9c2f0ca8e267a4101c3310b1bd71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u16 as3993GetReflectedPower </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function gets the values for the reflected power. For measuring the antenna will be switched on, a measurement performed and the antenna if necessary turned back off. The two measured 8-bit values are returned as one 16-bit value, the lower byte containing receiver-A (I) value, the higher byte containing receiver-B (Q) value. The two values are signed values and will be converted from sign magnitude representation to natural. Note: To get a more accurate result the I and Q values of <a class="el" href="as3993_8c.html#aaa074fdbf977867b8773f94eb603c5a8">as3993GetReflectedPowerNoiseLevel()</a> should be subtracted from the result of <a class="el" href="as3993_8c.html#a473d9c2f0ca8e267a4101c3310b1bd71">as3993GetReflectedPower()</a> </p>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l01132">1132</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="aaa074fdbf977867b8773f94eb603c5a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u16 as3993GetReflectedPowerNoiseLevel </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function measures and returns the noise level of the reflected power measurement of the active antenna. The returned value is of type u16 and contains the 8 bit I and Q values of the reflected power. The I value is located in the lower 8 bits, the Q value in the upper 8 bits. <br/>
 See <a class="el" href="as3993_8c.html#a473d9c2f0ca8e267a4101c3310b1bd71">as3993GetReflectedPower()</a> fore more info. </p>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l01159">1159</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac3d7d8b890567b8a2e742e4f36b7d7c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as3993GetRSSI </td>
          <td>(</td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>num_of_ms_to_scan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>rawIQ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">s8 *&#160;</td>
          <td class="paramname"><em>dBm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function gets the RSSI (ReceivedSignalStrengthIndicator) of the environment in dBm. For measuring the antenna will be switched off, int the time num_of_ms_to_scan measurements performed and the antenna if necessary turned back on.</p>
<p>The returned value is the highest RSSI value expressed in dBm. -128 stands for no signal.</p>
<p>Use this function to implement LBT (Listen Before Talk) at least for European based readers. Use like this </p>
<div class="fragment"><div class="line"><a class="code" href="as3993_8c.html#a226f1f06151c71e2fe88240ffe6d33ba">as3993SetBaseFrequency</a>( f + 100);</div>
<div class="line"><a class="code" href="as3993_8c.html#a7f39cc67020ca38e30dabfdcbd910f8f">as3993SaveSensitivity</a>();</div>
<div class="line"><a class="code" href="as3993_8c.html#a07a889d9ce2aff229e7fecbf4666fb59">as3993SetSensitivity</a>(-50);</div>
<div class="line"><a class="code" href="as3993_8c.html#ac3d7d8b890567b8a2e742e4f36b7d7c3">as3993GetRSSI</a>(10,&amp;iq,&amp;dBm)</div>
<div class="line"><a class="code" href="as3993_8c.html#a87abb86567a73e8714fb73c36ccf2887">as3993RestoreSensitivity</a>();</div>
<div class="line">if (dBm &lt; -40) { </div>
<div class="line">   <span class="comment">//use frequency f for operation</span></div>
<div class="line">}<span class="keywordflow">else</span>{</div>
<div class="line">   <span class="comment">// try to find another freqency</span></div>
<div class="line">}</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="as3993_8c_source.html#l01049">1049</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac46d9a3d4c488b4253f4bf0f6c5500b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s8 as3993GetSensitivity </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function gets the current rx sensitivity level. </p>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00947">947</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="aac2da701b417c8883b22fe3b6c907ea3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u16 as3993Initialize </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>baseFreq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function initialises the AS3993. A return value greater 0 indicates an error.<br/>
</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">baseFreq</td><td>the base frequency to set at initialization time, may be changed later on. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code </dd>
<dd>
0 : if everything went o.k. </dd>
<dd>
1 : writing + reading SPI failed. </dd>
<dd>
2 : Reset via EN low + high failed. </dd>
<dd>
3 : IRQ line failed. </dd>
<dd>
4 : Crystal not stable (Bit0 in AGC and Internal Status register 0x2A) </dd>
<dd>
5 : PLL not locked (Bits1 in AGC and Internal Status register 0x2A) </dd></dl>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00129">129</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="a79fc2cc62c49489d62ecdad07ba2abce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void INTERRUPT as3993Isr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>External Interrupt Function The AS3993 uses the external interrupt to signal the uC that something happened. The interrupt function reads the AS3993 IRQ status registers. The interrupt function sets the flags if an event occours. </p>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00418">418</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4b007e3bcab995d9917ec706882e26fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 as3993ReadChipVersion </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function reads the version register of the AS3993 and returns the value. <br/>
 </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the value of the AS3993 version register. </dd></dl>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00434">434</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="ade4d2a68828824ce84d1f457179b58a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as3993Reset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function reads in the current register settings (configuration only), performs a reset by driving the enable line first low, then high and then writes back the register values. </p>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00794">794</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="adbe6cfece7e903323170f7ac097ea4fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as3993ResetDoNotPreserveRegisters </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function performs a reset by driving the enable line first low, then high. </p>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00801">801</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="a87abb86567a73e8714fb73c36ccf2887"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as3993RestoreSensitivity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function restores the sensitivity previousley saved using <a class="el" href="as3993_8c.html#a7f39cc67020ca38e30dabfdcbd910f8f">as3993SaveSensitivity()</a>. </p>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00942">942</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7f39cc67020ca38e30dabfdcbd910f8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as3993SaveSensitivity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function stores the current sensitivity registers. After that as3993SetSensitivity can be called to change sensitivty for subsequent <a class="el" href="as3993_8c.html#ac3d7d8b890567b8a2e742e4f36b7d7c3">as3993GetRSSI()</a> calls. <a class="el" href="as3993_8c.html#a87abb86567a73e8714fb73c36ccf2887">as3993RestoreSensitivity()</a> restores it again. </p>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00937">937</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="a226f1f06151c71e2fe88240ffe6d33ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as3993SetBaseFrequency </td>
          <td>(</td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>regs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>frequency</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function sets the frequency in the approbiate register </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">regs</td><td>Which register is being used either AS3993_REG_PLLMAIN or AS3993_REG_PLLAUX </td></tr>
    <tr><td class="paramname">frequency</td><td>frequency in kHz </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00636">636</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="a07a889d9ce2aff229e7fecbf4666fb59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s8 as3993SetSensitivity </td>
          <td>(</td>
          <td class="paramtype">s8&#160;</td>
          <td class="paramname"><em>minimumSignal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function tries to set the sensitivity to a level to allow detection of signals using <a class="el" href="as3993_8c.html#ac3d7d8b890567b8a2e742e4f36b7d7c3">as3993GetRSSI()</a> with a level higher than miniumSignal(dBm). </p>
<dl class="section return"><dt>Returns</dt><dd>the level offset. Sensitivity was set to minimumSignal - (returned_val). negative values mean the sensitivity could not be reached. </dd></dl>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00991">991</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="aef3ce8f582b6e0b7d91f5fff6b2efce9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as3993SingleCommand </td>
          <td>(</td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends only one command to the AS3993. <br/>
 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">command</td><td>The command which is send to the AS3993. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00444">444</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3a3cab2d97285d01aa1cbb337e58ad19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 as3993SingleRead </td>
          <td>(</td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Single Read -&gt; reads one byte from one address of the AS3993. <br/>
 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The addressbyte </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The databyte read from the AS3993 </dd></dl>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00479">479</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae58028d67ab422750b86104565aa6993"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as3993SingleWrite </td>
          <td>(</td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Single Write -&gt; writes one byte to one address of the AS3993. <br/>
 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The addressbyte </td></tr>
    <tr><td class="paramname">value</td><td>The databyte </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00499">499</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="a004aeaef17a71f351c37874ead54b521"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s8 as3993TxRxGen2Bytes </td>
          <td>(</td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>txbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>txbits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>rxbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16 *&#160;</td>
          <td class="paramname"><em>rxbits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>norestime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>followCmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>waitTxIrq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is for generic sending and receiving gen2 commands through the FIFO. The parameters are: </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd,:</td><td>One of the AS3993_CMD_* commands wich transmits something. </td></tr>
    <tr><td class="paramname">txbuf,:</td><td>buffer to be tranmitted. </td></tr>
    <tr><td class="paramname">txbits,:</td><td>the size of txbuf in bits </td></tr>
    <tr><td class="paramname">rxbuf,:</td><td>a buffer getting the response of the tag </td></tr>
    <tr><td class="paramname">rxbits,:</td><td>the maximum number of expected rx bits (size of rxbuf in bits) The value will be written to rxlength register. If 0 rxlength is automatically calculated by the reader and no boundary check for rxbuf is done. </td></tr>
    <tr><td class="paramname">norestime,:</td><td>value for register AS3993_REG_RXNORESPONSEWAITTIME 0xff means 26 ms. Other values are much shorter. </td></tr>
    <tr><td class="paramname">followCmd,:</td><td>Command to be sent after rxdone interrupt but before emptying FIFO. This is needed for not violating T2 timing requirement. </td></tr>
    <tr><td class="paramname">waitTxIrq,:</td><td>If 0 tx irq will not be handled after transmitting command, otherwise FW will wait for Tx irq after transmitting command.</td></tr>
  </table>
  </dd>
</dl>
<p>Certain values may be set to 0/NULL thus changing the behavior. Examples:</p>
<ul>
<li>as3993TxRxGen2Bytes(AS3993_CMD_TRANSMCRCEHEAD, buf_, 50, buf_, &amp;rxbits, 0xff, 0) with rxbits=33 can be used to send WRITE command and retrieve after max 20ms a reply expecting a header.</li>
<li>as3993TxRxGen2Bytes(AS3993_CMD_TRANSMCRC, buf_, len, NULL, &amp;rxbits, 0, 0) with rxbits=0 is a transmit-only used for sending SELECT. With *rxbits==0 and rxbuf==NULL RX will be turned off immediately after TX-done interrupt</li>
<li>as3993TxRxGen2Bytes(AS3993_CMD_QUERY,buf_,16,tag-&gt;rn16,&amp;rxlen,gen2IntConfig.no_resp_time,AS3993_CMD_ACK) with rxlen==16 sends QUERY command, waits for tx-done, then waits for rx-done, then sends ACK command and only as the last step reads RN16 from FIFO</li>
<li>as3993TxRxGen2Bytes(0,buf_,0,buf_,&amp;rxlen,gen2IntConfig.no_resp_time,fast?0:AS3993_CMD_REQRN) with rxlen==sizeof(buf_)*8 does not send anything (ACK was executed via followCmd as previous example), waits for tx-done, waits for rx-done, sends REQRN, reads EPC from FIFO </li>
</ul>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l01186">1186</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6aa54181c416be12e5ea48c2488dc23e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as3993WaitForResponse </td>
          <td>(</td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>waitMask</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function waits for the specified response(IRQ). </p>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00538">538</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad6105628dd119bf28802a82b8e4608d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as3993WaitForResponseTimed </td>
          <td>(</td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>waitMask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function waits for the specified response(IRQ). </p>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00520">520</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a94703499ce24d312d63d06adae88ba62"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u8 as3993PowerDownRegs[AS3993_REG_ICD+6]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Restore registers 0x00 to 0x1D + 5 registers (0x22, 0x29, 0x35, 0x36 and 0x3A) after power up </p>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00073">73</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5d285bad3c50875f28492ab0dc0f2186"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile u16 as3993Response = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This variable is used as flag to signal an data reception. It is a bit mask of the RESP_TXIRQ, RESP_RXIRQ, RESP_* values </p>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00066">66</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="a336b58b6a387526c2cc1054a8b459a36"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u8 as3993SavedSensRegs[1]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>temporary buffer for <a class="el" href="as3993_8c.html#a7f39cc67020ca38e30dabfdcbd910f8f">as3993SaveSensitivity()</a> and <a class="el" href="as3993_8c.html#a87abb86567a73e8714fb73c36ccf2887">as3993RestoreSensitivity()</a> </p>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00069">69</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab9e67a5a35050c0fecdb33a36f0bc724"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u8 gChipRevisionZero = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Will be set to 0 if version register is &gt; 0x60. Silicon revision 0x60 needs specific handling in some functions. </p>

<p>Definition at line <a class="el" href="as3993_8c_source.html#l00077">77</a> of file <a class="el" href="as3993_8c_source.html">as3993.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Dec 19 2013 15:32:33 for as3993 Firmware by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
